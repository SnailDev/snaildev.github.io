<!DOCTYPE html><html lang="zh-cn" xml:lang="zh-cn" xmlns="https://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#" xmlns:fb="https://www.facebook.com/2008/fbml"><head itemscope itemtype="https://schema.org/WebSite"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="x-ua-compatible" content="IE=edge"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="author" content="SnailDev"><meta name="copyright" content="© 2019 SnailDev"><meta name="url" content="https://snaildev.github.io"><meta name="keywords" content="SpringBoot,Thymeleaf"><meta itemprop="name" content="SnailDev&#39;s Blog"><meta itemprop="url" content="https://snaildev.github.io"><meta itemprop="creator" content="SnailDev"><title>SpringBoot实战（四）Thymeleaf | SnailDev&#39;s Blog</title><link rel="apple-touch-icon" href="/images/icon.png"><link rel="shortcut icon" href="/favicon.ico"><link rel="alternate" href="/atom.xml" title="SnailDev's Blog"><meta name="description" content="Thymeleaf是新一代的模板引擎，在Spring 4.0中推荐使用Thymeleaf来做前端模板引擎。"><meta name="keywords" content="SpringBoot,Thymeleaf"><meta property="og:type" content="article"><meta property="og:title" content="SpringBoot实战（四）Thymeleaf"><meta property="og:url" content="https://snaildev.github.io/article/spring-springboot-thymeleaf.html"><meta property="og:site_name" content="SnailDev&#39;s Blog"><meta property="og:description" content="Thymeleaf是新一代的模板引擎，在Spring 4.0中推荐使用Thymeleaf来做前端模板引擎。"><meta property="og:locale" content="default"><meta property="og:image" content="https://snaildev.github.io/images/spring-springboot-1.jpg"><meta property="og:updated_time" content="2018-10-07T06:56:07.839Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="SpringBoot实战（四）Thymeleaf"><meta name="twitter:description" content="Thymeleaf是新一代的模板引擎，在Spring 4.0中推荐使用Thymeleaf来做前端模板引擎。"><meta name="twitter:image" content="https://snaildev.github.io/images/spring-springboot-1.jpg"><meta property="fb:admins" content="&lt;FBSDK_ADMIN_ID&gt;"><meta property="fb:app_id" content="&lt;FBSDK_APP_ID&gt;"><link rel="canonical" href="https://snaildev.github.io/article/spring-springboot-thymeleaf.html"><link rel="alternate" hreflang="zh-cn" href="https://snaildev.github.io/article/spring-springboot-thymeleaf.html"><link rel="stylesheet" href="/css/bundle.css?v=4"><script>var progress=0;function addLoadingBarProgress(r){progress+=r,progress=Math.min(progress,100),document.getElementById("loading-bar").style.width=progress+"%"}</script></head><body itemscope itemtype="https://schema.org/Blog"><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><script>addLoadingBarProgress(20)</script><header itemscope itemtype="https://schema.org/WPHeader" class="l_header"><div class="wrapper"><div class="nav-main container container--flex"><h2 itemprop="headline" class="logo flat-box notranslate"><a href="/">SnailDev's Blog</a></h2><div class="menu"><ul class="h-list"><li><a itemprop="url" class="flat-box nav-home" href="/">Home</a></li><li><a itemprop="url" class="flat-box nav-categories" href="/categories">Categories</a></li><li><a itemprop="url" class="flat-box nav-tags" href="/tags">Tags</a></li><li><a itemprop="url" class="flat-box nav-archives" href="/archives">Archives</a></li></ul><div class="underline"></div></div><div class="google-translate"><div id="google_translate_element"></div></div><div class="m_search"><form name="searchform" action="/search/" method="GET" class="form u-search-form"><input name="q" type="text" class="input u-search-input" placeholder="Search"> <i class="fa fa-search"></i></form></div><ul class="switcher h-list"><li class="s-search"><a itemprop="url" href="javascript:void(0)"><span class="fa fa-search flat-box"></span></a></li><li class="s-menu"><a itemprop="url" href="javascript:void(0)"><span class="fa fa-bars flat-box"></span></a></li></ul></div><div class="nav-sub container container--flex"><span class="logo" href="javascript:void(0)">SnailDev's Blog</span><ul class="switcher h-list"><li class="s-comment"><a itemprop="url" href="javascript:void(0)"><span class="fa fa-comment-o flat-box"></span></a></li><li class="s-top"><a itemprop="url" href="javascript:void(0)"><span class="fa fa-long-arrow-up flat-box"></span></a></li></ul></div></div></header><aside itemscope itemtype="https://schema.org/WPSideBar" class="menu-phone"><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><a itemprop="url" href="/" class="nav-home nav">Home </a><a itemprop="url" href="/categories" class="nav-categories nav">Categories </a><a itemprop="url" href="/tags" class="nav-tags nav">Tags </a><a itemprop="url" href="/archives" class="nav-archives nav">Archives</a></nav></aside><script>addLoadingBarProgress(20)</script><div class="l_body"><div class="container clearfix"><div class="l_main"><script>window.subData={title:"SpringBoot实战（四）Thymeleaf",tools:!0}</script><ol itemscope itemtype="https://schema.org/BreadcrumbList"><meta itemprop="name" content="Breadcrumb"><meta itemprop="description" content="Breadcrumb for SpringBoot实战（四）Thymeleaf"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><meta itemprop="position" content="1"><a itemscope itemtype="https://schema.org/Thing" itemprop="item" href="https://snaildev.github.io/categories/springboot/"><meta itemprop="name" content="SpringBoot"></a></li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><meta itemprop="position" content="2"><a itemscope itemtype="https://schema.org/Thing" itemprop="item" href="https://snaildev.github.io/article/spring-springboot-thymeleaf.html"><meta itemprop="name" content="SpringBoot实战（四）Thymeleaf"><meta itemprop="image" content="https://snaildev.github.io/images/spring-springboot-1.jpg"></a></li></ol><article itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting" id="post-spring-springboot-thymeleaf" class="post white-box article-type-post"><header class="meta"><meta itemprop="author" content="SnailDev"><meta itemprop="dateModified" content="2018-10-07"><meta itemscope itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="https://snaildev.github.io/article/spring-springboot-thymeleaf.html"><meta itemprop="image" content="https://snaildev.github.io/images/spring-springboot-1.jpg"><div itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://snaildev.github.io/images/icon.png"><meta itemprop="width" content="225"><meta itemprop="height" content="225"></div><meta itemprop="name" content="SnailDev"></div><h1 itemprop="headline" class="title"><a href="/article/spring-springboot-thymeleaf.html">SpringBoot实战（四）Thymeleaf</a></h1><time itemprop="datePublished" datetime="2018-09-04">2018-09-04</time><div itemprop="keywords" class="cats notranslate"><a itemprop="url" href="/categories/springboot/">SpringBoot</a></div><div class="info notranslate"><i class="fa fa-comment-o"></i> <a itemprop="discussionUrl" href="/article/spring-springboot-thymeleaf.html#comments"><span class="disqus-comment-count" data-disqus-identifier="article/spring-springboot-thymeleaf.html"></span></a></div><div class="info notranslate"><i class="fa fa-eye"></i><div class="pageviews" data-path="/article/spring-springboot-thymeleaf.html"><span class="count">--</span> <span class="text">Pageviews</span></div></div><div class="social-media-buttons"><a class="fa fa-facebook" title="Share" target="_blank" href="javascript:window.open('https://www.facebook.com/sharer.php?u=https://snaildev.github.io/article/spring-springboot-thymeleaf.html', 'Share on Facebook','width=600, height=600')"></a> <a class="fa fa-linkedin" title="Share" target="_blank" href="javascript:window.open('https://www.linkedin.com/shareArticle?mini=true&amp;url=https://snaildev.github.io/article/spring-springboot-thymeleaf.html', 'Share on Linkedin','width=600, height=600')"></a> <a class="fa fa-google" title="Share" target="_blank" href="javascript:window.open('https://plus.google.com/share?url=https://snaildev.github.io/article/spring-springboot-thymeleaf.html', 'Share on Google Plus','width=400, height=600')"></a> <a class="fa fa-twitter" title="Share" target="_blank" href="javascript:window.open('https://twitter.com/share?url=https://snaildev.github.io/article/spring-springboot-thymeleaf.html&amp;text=SpringBoot实战（四）Thymeleaf&amp;hashtags=SpringBoot,Thymeleaf', 'Share on Twitter','width=600, height=260')"></a><a class="fa fa-envelope-o" title="Mail" href="mailto:?Subject=SpringBoot实战（四）Thymeleaf&amp;Body=SpringBoot实战（四）Thymeleaf : https://snaildev.github.io/article/spring-springboot-thymeleaf.html"></a> <a class="fa fa-print" title="Print" href="javascript:void(0);" onclick="window.print()"></a></div></header><section class="article typo"><div itemprop="articleBody" class="article-entry"><p><img src="/images/spring-springboot-1.jpg" alt="spring-springboot-thymeleaf"></p><p>Thymeleaf是新一代的模板引擎，在Spring 4.0中推荐使用Thymeleaf来做前端模板引擎。<a id="more"></a> 之前在<a href="https://snaildev.github.io/article/spring-springboot-web.html">springBoot实战（二）Web</a>中简单介绍了下thymeleaf，本篇将更加全面详细的介绍thymeleaf的使用。</p><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>简单说，Thymeleaf是一个跟Velocity、FreeMarker类似的模板引擎，它可以完全替代JSP。相比较其他模板引擎，它有如下三个极其吸引人的特点：</p><ol><li>Thymeleaf 在有网络和无网络的环境下皆可运行，即它可以让前端在浏览器查看页面的静态效果，也可以让开发人员在服务器查看带数据的动态页面效果。这是由于它支持html原型，然后在html标签里增加额外的属性来达到模板+数据的展示方式。浏览器解释html时会忽略未定义的标签属性，所以thymeleaf的模板可以静态的运行；当有数据返回到页面时，thymeleaf标签会动态地替换掉静态内容，使页面动态显示。</li><li>Thymeleaf 开箱即用的特性。它提供标准和spring标准两种方言，可以直接套用模板实现JSTL、OGNL表达式效果，避免每天套模板，改JSTL、改标签的困扰，同时开发人员也可以扩展和创建自定义的方言。</li><li>Thymeleaf 提供spring标准方言和一个与Spring MVC完美继承的可选模块，可以快速实现表单绑定、属性编辑器和国际化等功能。</li></ol><h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><p>它们分为四类：</p><ol><li>变量表达式</li><li>选择或星号表达式</li><li>文字国际化表达式</li><li>URL表达式</li></ol><h3 id="变量表达式"><a href="#变量表达式" class="headerlink" title="变量表达式"></a>变量表达式</h3><p>变量表达式即OGNL表达式或Spring EL表达式（在Spring 术语中也叫做model attributes）。如下所示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;session.user.name&#125;</span><br></pre></td></tr></table></figure><p></p><p>它们将以HTML标签的一个属性来表示：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">th:each</span>=<span class="string">"book : $&#123;books&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;book.author.name&#125;"</span>&gt;</span>author's name<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h3 id="选择（星号）表达式"><a href="#选择（星号）表达式" class="headerlink" title="选择（星号）表达式"></a>选择（星号）表达式</h3><p>选择表达式很像变量表达式，不过它们用一个预先选择的对象来代替上下文变量容器（map）来执行，如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*&#123;customer.name&#125;</span><br></pre></td></tr></table></figure><p></p><p>被指定的object由<code>th:object</code>属性定义：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">"$&#123;book&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;title&#125;"</span>&gt;</span>book's title<span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h3 id="文字国际化表达式"><a href="#文字国际化表达式" class="headerlink" title="文字国际化表达式"></a>文字国际化表达式</h3><p>文字国际化表达式允许我们从一个外部文件获取区域文字信息（.properties），用Key索引Value，还可以提供一组参数（可选）。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#&#123;main.title&#125;</span><br><span class="line">#&#123;message.entrycreated($&#123;entryId&#125;)&#125;</span><br></pre></td></tr></table></figure><p></p><p>可以在模板文件中找到这样的表达式代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th</span> <span class="attr">th:text</span>=<span class="string">"#&#123;header.address.city&#125;"</span>&gt;</span>city<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th</span> <span class="attr">th:text</span>=<span class="string">"#&#123;header.address.country&#125;"</span>&gt;</span>country<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h3 id="URL表达式"><a href="#URL表达式" class="headerlink" title="URL表达式"></a>URL表达式</h3><p>URL表达式值指的是把一个有用的上下文或会话信息添加到URL，这个过程经常被叫做URL重写。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@&#123;/order/list&#125;</span><br></pre></td></tr></table></figure><p></p><p>URL还可以设置参数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@&#123;/order/details(id=$&#123;orderId&#125;)&#125;</span><br></pre></td></tr></table></figure><p></p><p>相对路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@&#123;../documents/report&#125;</span><br></pre></td></tr></table></figure><p></p><p>让我们来看这些表达式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">"@&#123;/createOrder&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"main.html"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/main&#125;"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h3 id="变量表达式VS选择表达式"><a href="#变量表达式VS选择表达式" class="headerlink" title="变量表达式VS选择表达式"></a>变量表达式VS选择表达式</h3><p>如果不考虑上下文的情况下，两者没有区别；星号语法在选定对象上表达，而不是整个上下文。 什么是选定对象？就是父标签的值，如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">"$&#123;session.user&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>FirstName: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;firstName&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>LastName: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;lastName&#125;"</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationnality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;nationnality&#125;"</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>这完全等价于：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>FirstName: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.firstName&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>LastName: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.lastName&#125;"</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationnality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.nationnality&#125;"</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>当然，美元符号和星号语法可以混合使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">"$&#123;session.user&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>FirstName: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;firstName&#125;"</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>LastName: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session.user.lastName&#125;"</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationnality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;nationnality&#125;"</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h2 id="表达式支持的语法"><a href="#表达式支持的语法" class="headerlink" title="表达式支持的语法"></a>表达式支持的语法</h2><h3 id="字面（Literals）"><a href="#字面（Literals）" class="headerlink" title="字面（Literals）"></a>字面（Literals）</h3><ul><li>文本文字（Text literals）: <code>&#39;one text&#39;, &#39;Another one!&#39;,…</code></li><li>数字文本（Number literals）: <code>0, 34, 3.0, 12.3,…</code></li><li>布尔文本（Boolean literals）: <code>true, false</code></li><li>空（Null literal）: <code>null</code></li><li>文字标记（Literal tokens）: <code>one, sometext, main,…</code></li></ul><h3 id="文本操作（Text-operations）"><a href="#文本操作（Text-operations）" class="headerlink" title="文本操作（Text operations）"></a>文本操作（Text operations）</h3><ul><li>字符串连接(String concatenation): <code>+</code></li><li>文本替换（Literal substitutions）: <code>|The name is ${name}|</code></li></ul><h3 id="算术运算（Arithmetic-operations）"><a href="#算术运算（Arithmetic-operations）" class="headerlink" title="算术运算（Arithmetic operations）"></a>算术运算（Arithmetic operations）</h3><ul><li>二元运算符（Binary operators）: <code>+, -, *, /, %</code></li><li>减号（单目运算符）Minus sign (unary operator): <code>-</code></li></ul><h3 id="布尔操作（Boolean-operations）"><a href="#布尔操作（Boolean-operations）" class="headerlink" title="布尔操作（Boolean operations）"></a>布尔操作（Boolean operations）</h3><ul><li>二元运算符（Binary operators）:<code>and, or</code></li><li>布尔否定（一元运算符）Boolean negation (unary operator):<code>!, not</code></li></ul><h3 id="比较和等价-Comparisons-and-equality"><a href="#比较和等价-Comparisons-and-equality" class="headerlink" title="比较和等价(Comparisons and equality)"></a>比较和等价(Comparisons and equality)</h3><ul><li>比较（Comparators）: <code>&gt;, &lt;, &gt;=, &lt;= (gt, lt, ge, le)</code></li><li>等值运算符（Equality operators）:<code>==, != (eq, ne)</code></li></ul><h3 id="条件运算符（Conditional-operators）"><a href="#条件运算符（Conditional-operators）" class="headerlink" title="条件运算符（Conditional operators）"></a>条件运算符（Conditional operators）</h3><ul><li>If-then: <code>(if) ? (then)</code></li><li>If-then-else: <code>(if) ? (then) : (else)</code></li><li>Default: <code>(value) ?: (defaultvalue)</code></li></ul><p>所有这些特征可以被组合并嵌套：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;User is of type &apos; + ($&#123;user.isAdmin()&#125; ? &apos;Administrator&apos; : ($&#123;user.type&#125; ?: &apos;Unknown&apos;))</span><br></pre></td></tr></table></figure><p></p><h2 id="常用的th标签"><a href="#常用的th标签" class="headerlink" title="常用的th标签"></a>常用的th标签</h2><table><thead><tr><th style="text-align:left">关键字</th><th style="text-align:left">功能介绍</th><th style="text-align:left">案例</th></tr></thead><tbody><tr><td style="text-align:left">th:id</td><td style="text-align:left">替换id</td><td style="text-align:left"><code>&lt;input th:id=&quot;&#39;xxx&#39; + ${collect.id}&quot;/&gt;</code></td></tr><tr><td style="text-align:left">th:text</td><td style="text-align:left">文本替换</td><td style="text-align:left"><code>&lt;p th:text=&quot;${collect.description}&quot;&gt;description&lt;/p&gt;</code></td></tr><tr><td style="text-align:left">th:utext</td><td style="text-align:left">支持html的文本替换</td><td style="text-align:left"><code>&lt;p th:utext=&quot;${htmlcontent}&quot;&gt;conten&lt;/p&gt;</code></td></tr><tr><td style="text-align:left">th:object</td><td style="text-align:left">替换对象</td><td style="text-align:left"><code>&lt;div th:object=&quot;${session.user}&quot;&gt;</code></td></tr><tr><td style="text-align:left">th:value</td><td style="text-align:left">属性赋值</td><td style="text-align:left"><code>&lt;input th:value=&quot;${user.name}&quot; /&gt;</code></td></tr><tr><td style="text-align:left">th:with</td><td style="text-align:left">变量赋值运算</td><td style="text-align:left"><code>&lt;div th:with=&quot;isEven=${prodStat.count}%2==0&quot;&gt;&lt;/div&gt;</code></td></tr><tr><td style="text-align:left">th:style</td><td style="text-align:left">设置样式</td><td style="text-align:left"><code>th:style=&quot;&#39;display:&#39; + @{(${sitrue} ? &#39;none&#39; : &#39;inline-block&#39;)} + &#39;&#39;&quot;</code></td></tr><tr><td style="text-align:left">th:onclick</td><td style="text-align:left">点击事件</td><td style="text-align:left"><code>th:onclick=&quot;&#39;getCollect()&#39;&quot;</code></td></tr><tr><td style="text-align:left">th:each</td><td style="text-align:left">属性赋值</td><td style="text-align:left"><code>&lt;tr th:each=&quot;user,userStat:${users}&quot;&gt;</code></td></tr><tr><td style="text-align:left">th:if</td><td style="text-align:left">判断条件</td><td style="text-align:left"><code>&lt;a th:if=&quot;${userId == collect.userId}&quot; &gt;</code></td></tr><tr><td style="text-align:left">th:unless</td><td style="text-align:left">和th:if判断相反</td><td style="text-align:left"><code>&lt;a th:href=&quot;@{/login}&quot; th:unless=${session.user != null}&gt;Login&lt;/a&gt;</code></td></tr><tr><td style="text-align:left">th:href</td><td style="text-align:left">链接地址</td><td style="text-align:left"><code>&lt;a th:href=&quot;@{/login}&quot; th:unless=${session.user != null}&gt;Login&lt;/a&gt; /&gt;</code></td></tr><tr><td style="text-align:left">th:switch</td><td style="text-align:left">多路选择 配合th:case 使用</td><td style="text-align:left"><code>&lt;div th:switch=&quot;${user.role}&quot;&gt;</code></td></tr><tr><td style="text-align:left">th:case</td><td style="text-align:left">th:switch的一个分支</td><td style="text-align:left"><code>&lt;p th:case=&quot;&#39;admin&#39;&quot;&gt;User is an administrator&lt;/p&gt;</code></td></tr><tr><td style="text-align:left">th:fragment</td><td style="text-align:left">布局标签，定义一个代码片段，方便其它地方引用</td><td style="text-align:left"><code>&lt;div th:fragment=&quot;alert&quot;&gt;</code></td></tr><tr><td style="text-align:left">th:include</td><td style="text-align:left">布局标签，替换内容到引入的文件</td><td style="text-align:left"><code>&lt;head th:include=&quot;layout :: htmlhead&quot; th:with=&quot;title=&#39;xx&#39;&quot;&gt;&lt;/head&gt; /&gt;</code></td></tr><tr><td style="text-align:left">th:replace</td><td style="text-align:left">布局标签，替换整个标签到引入的文件</td><td style="text-align:left"><code>&lt;div th:replace=&quot;fragments/header :: title&quot;&gt;&lt;/div&gt;</code></td></tr><tr><td style="text-align:left">th:selected</td><td style="text-align:left">selected选择框 选中</td><td style="text-align:left"><code>th:selected=&quot;(${xxx.id} == ${configObj.dd})&quot;</code></td></tr><tr><td style="text-align:left">th:src</td><td style="text-align:left">图片类地址引入</td><td style="text-align:left"><code>&lt;img class=&quot;img-responsive&quot; alt=&quot;App Logo&quot; th:src=&quot;@{/img/logo.png}&quot; /&gt;</code></td></tr><tr><td style="text-align:left">th:inline</td><td style="text-align:left">定义js脚本可以使用变量</td><td style="text-align:left"><code>&lt;script type=&quot;text/javascript&quot; th:inline=&quot;javascript&quot;&gt;</code></td></tr><tr><td style="text-align:left">th:action</td><td style="text-align:left">表单提交的地址</td><td style="text-align:left"><code>&lt;form action=&quot;subscribe.html&quot; th:action=&quot;@{/subscribe}&quot;&gt;</code></td></tr><tr><td style="text-align:left">th:remove</td><td style="text-align:left">删除某个属性</td><td style="text-align:left"><code>&lt;tr th:remove=&quot;all&quot;&gt; 1.all:删除包含标签和所有的孩子。2.body:不包含标记删除,但删除其所有的孩子。3.tag:包含标记的删除,但不删除它的孩子。4.all-but-first:删除所有包含标签的孩子,除了第一个。5.none:什么也不做。这个值是有用的动态评估。</code></td></tr><tr><td style="text-align:left">th:attr</td><td style="text-align:left">设置标签属性，多个属性可以用逗号分隔</td><td style="text-align:left">比如 <code>th:attr=&quot;src=@{/image/aa.jpg},title=#{logo}&quot;</code>，此标签不太优雅，一般用的比较少。</td></tr></tbody></table><p>还有非常多的标签，这里只列出最常用的几个,由于一个标签内可以包含多个th:x属性，其生效的优先级顺序为:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include,each,if/unless/switch/case,with,attr/attrprepend/attrappend,value/href,src ,etc,text/utext,fragment,remove</span><br></pre></td></tr></table></figure><p></p><h2 id="几种常用的使用方式"><a href="#几种常用的使用方式" class="headerlink" title="几种常用的使用方式"></a>几种常用的使用方式</h2><h3 id="1-赋值、字符串拼接"><a href="#1-赋值、字符串拼接" class="headerlink" title="1. 赋值、字符串拼接"></a>1. 赋值、字符串拼接</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>  <span class="attr">th:text</span>=<span class="string">"$&#123;collect.description&#125;"</span>&gt;</span>description<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"'Welcome to our application, ' + $&#123;user.name&#125; + '!'"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>字符串拼接还有另外一种简洁的写法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"|Welcome to our application, $&#123;user.name&#125;!|"</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h3 id="2-条件判断If-Unless"><a href="#2-条件判断If-Unless" class="headerlink" title="2. 条件判断If/Unless"></a>2. 条件判断If/Unless</h3><p>Thymeleaf中使用<code>th:if</code>和<code>th:unless</code>属性进行条件判断，下面的例子中，<code>&lt;a&gt;</code>标签只有在<code>th:if</code>中条件成立时才显示：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:if</span>=<span class="string">"$&#123;myself=='yes'&#125;"</span> &gt;</span>test<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:unless</span>=<span class="string">$&#123;session.user</span> != <span class="string">null&#125;</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/login&#125;"</span> &gt;</span>Login<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p><code>th:unless</code>与<code>th:if</code>恰好相反，只有表达式中的条件不成立，才会显示其内容。 也可以使用 <code>(if) ? (then) : (else)</code> 这种语法来判断显示的内容</p><h3 id="3-for循环"><a href="#3-for循环" class="headerlink" title="3. for循环"></a>3. for循环</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span>  <span class="attr">th:each</span>=<span class="string">"collect,iterStat : $&#123;collects&#125;"</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">"row"</span> <span class="attr">th:text</span>=<span class="string">"$&#123;collect.id&#125;"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">th:src</span>=<span class="string">"$&#123;collect.webLogo&#125;"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;collect.url&#125;"</span>&gt;</span>Mark<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;collect.title&#125;"</span>&gt;</span>Otto<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;collect.description&#125;"</span>&gt;</span>@mdo<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;iterStat.index&#125;"</span>&gt;</span>index<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure><p>iterStat称作状态变量，属性有：</p><ul><li>index:当前迭代对象的index（从0开始计算）</li><li>count: 当前迭代对象的index(从1开始计算)</li><li>size:被迭代对象的大小</li><li>current:当前迭代变量</li><li>even/odd:布尔值，当前循环是否是偶数/奇数（从0开始计算）</li><li>first:布尔值，当前循环是否是第一个</li><li>last:布尔值，当前循环是否是最后一个</li></ul><h3 id="4-URL"><a href="#4-URL" class="headerlink" title="4. URL"></a>4. URL</h3><p>URL在Web应用模板中占据着十分重要的地位，需要特别注意的是Thymeleaf对于URL的处理是通过语法<strong>@{…}</strong>来处理的。 如果需要Thymeleaf对URL进行渲染，那么务必使用<code>th:href</code>，<code>th:src</code>等属性，下面是一个例子</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Will produce 'http://localhost:8080/standard/unread' (plus rewriting) --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span>  <span class="attr">th:href</span>=<span class="string">"@&#123;/standard/&#123;type&#125;(type=$&#123;type&#125;)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Will produce '/gtvg/order/3/details' (plus rewriting) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"details.html"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/order/&#123;orderId&#125;/details(orderId=$&#123;o.id&#125;)&#125;"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>设置背景</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:style</span>=<span class="string">"'background:url(' + @&#123;/&lt;path-to-image&gt;&#125; + ');'"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>根据属性值改变背景</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"media-object resource-card-image"</span>  </span></span><br><span class="line"><span class="tag">    <span class="attr">th:style</span>=<span class="string">"'background:url(' + @&#123;($&#123;collect.webLogo&#125;=='' ? 'img/favicon.png' : $&#123;collect.webLogo&#125;)&#125; + ')'"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>几点说明：</p><ul><li>上例中URL最后的<code>(orderId=${o.id})</code> 表示将括号内的内容作为URL参数处理，该语法避免使用字符串拼接，大大提高了可读性</li><li><code>@{...}</code>表达式中可以通过<code>{orderId}</code>访问Context中的orderId变量</li><li><code>@{/order}</code>是Context相关的相对路径，在渲染时会自动添加上当前Web应用的Context名字，假设context名字为app，那么结果应该是/app/order</li></ul><h3 id="5-内联js"><a href="#5-内联js" class="headerlink" title="5. 内联js"></a>5. 内联js</h3><p>内联文本：<code>[[...]]</code>内联文本的表示方式，使用时，必须先用<code>th:inline=&quot;text/javascript/none&quot;</code>激活，<code>th:inline</code>可以在父级标签内使用，甚至作为body的标签。内联文本尽管比<code>th:text</code>的代码少，不利于原型显示。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="comment">/*&lt;![CDATA[*/</span></span></span><br><span class="line"><span class="undefined">...</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> username = <span class="comment">/*[[$&#123;sesion.user.name&#125;]]*/</span> <span class="string">'Sebastian'</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> size = <span class="comment">/*[[$&#123;size&#125;]]*/</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined">...</span></span><br><span class="line"><span class="javascript"><span class="comment">/*]]&gt;*/</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>js附加代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/*[+</span><br><span class="line">var msg = 'This is a working application';</span><br><span class="line">+]*/</span><br></pre></td></tr></table></figure><p></p><p>js移除代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/*[- */</span><br><span class="line">var msg = 'This is a non-working template';</span><br><span class="line">/* -]*/</span><br></pre></td></tr></table></figure><p></p><h3 id="6-内嵌变量"><a href="#6-内嵌变量" class="headerlink" title="6. 内嵌变量"></a>6. 内嵌变量</h3><p>为了模板更加易用，Thymeleaf还提供了一系列Utility对象（内置于Context中），可以通过#直接访问：</p><ul><li>dates ： java.util.Date的功能方法类。</li><li>calendars : 类似#dates，面向java.util.Calendar</li><li>numbers : 格式化数字的功能方法类</li><li>strings : 字符串对象的功能类，contains,startWiths,prepending/appending等等。</li><li>objects: 对objects的功能类操作。</li><li>bools: 对布尔值求值的功能方法。</li><li>arrays：对数组的功能类方法。</li><li>lists: 对lists功能类方法</li><li>sets</li><li>maps</li><li>… 下面用一段代码来举例一些常用的方法：</li></ul><p><strong>dates</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * Format date with the specified pattern</span><br><span class="line"> * Also works with arrays, lists or sets</span><br><span class="line"> */</span><br><span class="line">$&#123;#dates.format(date, &apos;dd/MMM/yyyy HH:mm&apos;)&#125;</span><br><span class="line">$&#123;#dates.arrayFormat(datesArray, &apos;dd/MMM/yyyy HH:mm&apos;)&#125;</span><br><span class="line">$&#123;#dates.listFormat(datesList, &apos;dd/MMM/yyyy HH:mm&apos;)&#125;</span><br><span class="line">$&#123;#dates.setFormat(datesSet, &apos;dd/MMM/yyyy HH:mm&apos;)&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * Create a date (java.util.Date) object for the current date and time</span><br><span class="line"> */</span><br><span class="line">$&#123;#dates.createNow()&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * Create a date (java.util.Date) object for the current date (time set to 00:00)</span><br><span class="line"> */</span><br><span class="line">$&#123;#dates.createToday()&#125;</span><br></pre></td></tr></table></figure><p></p><p><strong>strings</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * Check whether a String is empty (or null). Performs a trim() operation before check</span><br><span class="line"> * Also works with arrays, lists or sets</span><br><span class="line"> */</span><br><span class="line">$&#123;#strings.isEmpty(name)&#125;</span><br><span class="line">$&#123;#strings.arrayIsEmpty(nameArr)&#125;</span><br><span class="line">$&#123;#strings.listIsEmpty(nameList)&#125;</span><br><span class="line">$&#123;#strings.setIsEmpty(nameSet)&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * Check whether a String starts or ends with a fragment</span><br><span class="line"> * Also works with arrays, lists or sets</span><br><span class="line"> */</span><br><span class="line">$&#123;#strings.startsWith(name,&apos;Don&apos;)&#125;                  // also array*, list* and set*</span><br><span class="line">$&#123;#strings.endsWith(name,endingFragment)&#125;           // also array*, list* and set*</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * Compute length</span><br><span class="line"> * Also works with arrays, lists or sets</span><br><span class="line"> */</span><br><span class="line">$&#123;#strings.length(str)&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * Null-safe comparison and concatenation</span><br><span class="line"> */</span><br><span class="line">$&#123;#strings.equals(str)&#125;</span><br><span class="line">$&#123;#strings.equalsIgnoreCase(str)&#125;</span><br><span class="line">$&#123;#strings.concat(str)&#125;</span><br><span class="line">$&#123;#strings.concatReplaceNulls(str)&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line"> * Random</span><br><span class="line"> */</span><br><span class="line">$&#123;#strings.randomAlphanumeric(count)&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h2><p>使用thymeleaf布局非常的方便</p><p>定义代码片段</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">th:fragment</span>=<span class="string">"copy"</span>&gt;</span> </span><br><span class="line">  &amp;copy; 2016</span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>在页面任何地方引入：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:include</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p><code>th:include</code> 和 <code>th:replace</code>区别，include只是加载，replace是替换</p><p>返回的HTML如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span> &amp;copy; 2016 <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span> &amp;copy; 2016 <span class="tag">&lt;/<span class="name">footer</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>下面是一个常用的后台页面布局，将整个页面分为头部，尾部、菜单栏、隐藏栏，点击菜单只改变content区域的页面</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">"layout-fixed"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:fragment</span>=<span class="string">"navbar"</span>  <span class="attr">class</span>=<span class="string">"wrapper"</span>  <span class="attr">role</span>=<span class="string">"navigation"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"fragments/header :: header"</span>&gt;</span>Header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"fragments/left :: left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"fragments/sidebar :: sidebar"</span>&gt;</span>sidebar<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">layout:fragment</span>=<span class="string">"content"</span> <span class="attr">id</span>=<span class="string">"content"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"fragments/footer :: footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>任何页面想使用这样的布局值只需要替换中间的 content模块即可</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span> <span class="attr">layout:decorator</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">section</span> <span class="attr">layout:fragment</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">   ...</span><br></pre></td></tr></table></figure><p></p><p>也可以在引用模版的时候传参</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">th:include</span>=<span class="string">"layout :: htmlhead"</span> <span class="attr">th:with</span>=<span class="string">"title='Hello'"</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>layout 是文件地址，如果有文件夹可以这样写 <code>fileName/layout:htmlhead</code></p><p>htmlhead 是指定义的代码片段 如 <code>th:fragment=&quot;copy&quot;</code></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://www.cnblogs.com/ityouknow/p/5833560.html" target="_blank" rel="noopener">Thymeleaf使用详解</a></li><li><a href="https://blog.csdn.net/column/details/16513.html" rel="external nofollow noopener noreferrer" target="_blank">Thymeleaf学习总结</a></li></ul></div><div class="art-item-footer"><div itemprop="keywords" class="article-tags tags notranslate"><a href="/tags/springboot/">SpringBoot</a> <a href="/tags/thymeleaf/">Thymeleaf</a></div><div class="social-buttons notranslate"><div class="social-button linkedin"><script src="//platform.linkedin.com/in.js" async>en_US</script><script type="IN/Share" data-url="https://snaildev.github.io/article/spring-springboot-thymeleaf.html" data-counter="right"></script></div><div class="social-button google"><script src="//apis.google.com/js/platform.js" async defer></script><div class="g-plus" data-action="share" data-href="https://snaildev.github.io/article/spring-springboot-thymeleaf.html"></div></div></div><div><span class="art-item-left"><i class="fa fa-angle-left"></i>next： <a itemprop="url" href="/article/spring-springboot-jpa.html" rel="next" title="SpringBoot实战（五）Jpa">SpringBoot实战（五）Jpa </a></span><span class="art-item-right">prev： <a itemprop="url" href="/article/spring-springboot-redis.html" rel="prev" title="SpringBoot实战（三）Redis">SpringBoot实战（三）Redis </a><i class="fa fa-angle-right"></i></span></div></div></section></article><section itemprop="comment" itemscope itemtype="https://schema.org/Comment" id="comments"><div id="disqus_thread"></div></section></div><aside itemscope itemtype="https://schema.org/WPSideBar" class="l_side"><section itemprop="author" itemscope itemtype="https://schema.org/Person" class="m_widget about"><img itemprop="image" class="avatar waves-image" src="/images/avatar.jpg" alt="/images/avatar.jpg"><div itemprop="name" class="header fa fa-user notranslate">SnailDev</div><div class="content"><div class="desc">coding is everything in my life.</div></div><div class="content"><meta itemprop="url" content="https://snaildev.github.io"><div class="social-wrapper"><a itemprop="sameAs" href="https://github.com/snaildev" class="social github" target="_blank" rel="external"><span class="fa fa-github"></span> </a><a itemprop="sameAs" href="/atom.xml" class="social rss" target="_blank" rel="external"><span class="fa fa-rss"></span></a></div></div></section><section class="m_widget toc-wrapper"><div class="header fa fa-bookmark">Table of Contents</div><div class="content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#表达式"><span class="toc-text">表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#变量表达式"><span class="toc-text">变量表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#选择（星号）表达式"><span class="toc-text">选择（星号）表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文字国际化表达式"><span class="toc-text">文字国际化表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#URL表达式"><span class="toc-text">URL表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#变量表达式VS选择表达式"><span class="toc-text">变量表达式VS选择表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#表达式支持的语法"><span class="toc-text">表达式支持的语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#字面（Literals）"><span class="toc-text">字面（Literals）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文本操作（Text-operations）"><span class="toc-text">文本操作（Text operations）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#算术运算（Arithmetic-operations）"><span class="toc-text">算术运算（Arithmetic operations）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#布尔操作（Boolean-operations）"><span class="toc-text">布尔操作（Boolean operations）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#比较和等价-Comparisons-and-equality"><span class="toc-text">比较和等价(Comparisons and equality)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件运算符（Conditional-operators）"><span class="toc-text">条件运算符（Conditional operators）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用的th标签"><span class="toc-text">常用的th标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#几种常用的使用方式"><span class="toc-text">几种常用的使用方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-赋值、字符串拼接"><span class="toc-text">1. 赋值、字符串拼接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-条件判断If-Unless"><span class="toc-text">2. 条件判断If/Unless</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-for循环"><span class="toc-text">3. for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-URL"><span class="toc-text">4. URL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-内联js"><span class="toc-text">5. 内联js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-内嵌变量"><span class="toc-text">6. 内嵌变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#布局"><span class="toc-text">布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考"><span class="toc-text">参考</span></a></li></ol></div></section><section class="m_widget recent"><div class="header fa fa-history">Recents</div><div class="content"><ul class="entry"><li><a itemprop="url" class="flat-box" href="/article/spring-springboot-mybatis.html"><time>2018-09-06</time><div class="name">SpringBoot实战（六）Mybatis</div></a></li><li><a itemprop="url" class="flat-box" href="/article/spring-springboot-jpa.html"><time>2018-09-05</time><div class="name">SpringBoot实战（五）Jpa</div></a></li><li><a itemprop="url" class="flat-box" href="/article/spring-springboot-thymeleaf.html"><time>2018-09-04</time><div class="name">SpringBoot实战（四）Thymeleaf</div></a></li><li><a itemprop="url" class="flat-box" href="/article/spring-springboot-redis.html"><time>2018-09-03</time><div class="name">SpringBoot实战（三）Redis</div></a></li><li><a itemprop="url" class="flat-box" href="/article/spring-springboot-web.html"><time>2018-09-02</time><div class="name">SpringBoot实战（二）Web</div></a></li></ul></div></section><section class="m_widget links"><div class="header fa fa-link">Links</div><div class="content notranslate"><ul class="entry"><li><a itemprop="url" class="flat-box" target="_blank" href="https://www.cnblogs.com/snaildev"><div class="name">博客园-SnailDev</div></a></li></ul></div></section><section class="m_widget statistics"><div class="header fa fa-line-chart">Alexa Traffic</div><div class="content"><a class="alexa" target="_blank" href="//www.alexa.com/siteinfo/snaildev.github.io"><img src="//traffic.alexa.com/graph?u=snaildev.github.io" alt="Alexa Traffic for snaildev.github.io"></a></div></section></aside><script>addLoadingBarProgress(20)</script></div></div><footer itemscope itemtype="https://schema.org/WPFooter" id="footer" class="clearfix notranslate"><div>Powered by <a href="https://hexo.io/" class="codename" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> - Theme <a href="https://github.com/stkevintan/hexo-theme-material-flow" class="codename" rel="external nofollow noopener noreferrer" target="_blank">MaterialFlow</a></div><div><span>© <span itemprop="copyrightYear">2019</span> <span itemprop="copyrightHolder">SnailDev</span> </span><a itemprop="url" href="https://github.com/snaildev" class="social github" target="_blank" rel="external"><span class="fa fa-github"></span> </a><a itemprop="url" href="/atom.xml" class="social rss" target="_blank" rel="external"><span class="fa fa-rss"></span></a></div><div><span id="totalPageviews">Total Pageviews: <span class="count">--<span></span></span></span></div><div><a itemprop="license" class="license" rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></div></footer><script type="text/javascript">var disqus_config=function(){this.page.url="https://snaildev.github.io/article/spring-springboot-thymeleaf.html",this.page.identifier="article/spring-springboot-thymeleaf.html",this.page.title="SpringBoot实战（四）Thymeleaf"},d=document,s=d.createElement("script");s.src="//snaildevs-blog.disqus.com/embed.js",s.async=!0,s.setAttribute("data-timestamp",""+ +new Date),(d.head||d.body).appendChild(s)</script><script id="dsq-count-scr" src="//snaildevs-blog.disqus.com/count.js" async></script><script>var PAGEVIEWS_API="https://gifmaker.develophelper.com/pageviews",ROOT="/";ROOT.endsWith("/")||(ROOT+="/");for(var el=document.getElementsByTagName("figure"),i=0;i<el.length;i++)el[i].className+=" notranslate";for(el=document.getElementsByTagName("code"),i=0;i<el.length;i++)el[i].className+=" notranslate";el=null</script><script src="/js/bundle.js?v=3" async></script><script type="text/javascript">function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"zh-TW",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,gaTrack:!0,gaId:"&lt;GOOGLE_ANALYTICS_ID&gt;"},"google_translate_element")}</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script"),ga("create","&lt;GOOGLE_ANALYTICS_ID&gt;","auto"),ga("send","pageview")</script><script>addLoadingBarProgress(20)</script></body></html>