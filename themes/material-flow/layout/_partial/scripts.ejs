<% if (config.disqus_shortname) { %>
<% if (page.comments) { %>
<script type="text/javascript">
  var disqus_config = function () {
    this.page.url = "<%= page.permalink %>";
    this.page.identifier = "<%= page.path %>";  
    this.page.title = "<%= page.title %>";
  };
  var d = document, s = d.createElement("script");
  s.src = "//<%= config.disqus_shortname %>.disqus.com/embed.js";
  s.async = true;
  s.setAttribute("data-timestamp", "" + +new Date());
  (d.head || d.body).appendChild(s);
</script>
<% } %>
<script id="dsq-count-scr" src="//<%= config.disqus_shortname %>.disqus.com/count.js" async></script>
<% } %>

<script>
  var PAGEVIEWS_API = "<%- config.pageviews_api %>";
  var ROOT = "<%- config.root %>"||"/";
  if(!ROOT.endsWith("/"))ROOT += "/";
  
  var el = document.getElementsByTagName("figure");
  for (var i = 0; i < el.length; i++) {
      el[i].className += " notranslate";
  }
  el = document.getElementsByTagName("code");
  for (var i = 0; i < el.length; i++) {
      el[i].className += " notranslate";
  }
  el = null;
</script>

<script src="/js/bundle.js?v=3" async></script>

<% if (config.google_translate === true) { %>
<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: "zh-TW",
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
    gaTrack: true, gaId: "<%= config.google_analytics %>"
  } , "google_translate_element");
}
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<% } %>