"use strict";addLoadingBarProgress(10),function(t){const e=70;function o(o,n){n=n||e;const a=o.href?t(o.getAttribute("href")):t(o);t("html, body").animate({scrollTop:a.offset().top-n},400)}t.fn.followTo=function(e,o){var n=this,a=t(window);a.scroll(function(t){a.scrollTop()>e?n.addClass(o):n.removeClass(o)})},t(function(){!function(){if(!window.subData)return;const e=t("header .wrapper"),n=t(".s-comment",e),a=t(".s-toc",e),i=t(".s-top",e);e.find(".nav-sub .logo").text(window.subData.title);let s=t(document).scrollTop();t(document,window).scroll(function(){const o=t(document).scrollTop(),n=o-s;n>=20&&o>=50?(s=o,e.addClass("sub")):n<=-20&&(s=o,e.removeClass("sub"))});const l=t("#comments");l.length?n.click(function(t){t.preventDefault(),t.stopPropagation(),o(l)}):n.remove();const c=t(".toc-wrapper");c.length&&c.children().length?a.click(function(t){t.stopPropagation(),c.toggleClass("active")}):a.remove(),i.click(function(){o(document.body)})}(),function(){let e=t("header .menu"),o=e.find(".underline");function n(t,n){t=t||e.find("li a.active"),(n=void 0===n||!!n)||o.addClass("disable-trans"),t&&t.length?(t.addClass("active").siblings().removeClass("active"),o.css({left:t.position().left,width:t.innerWidth()})):o.css({left:0,width:0}),n||setTimeout(function(){o.removeClass("disable-trans")},0)}e.on("mouseenter","li",function(e){n(t(e.currentTarget))}),e.on("mouseout",function(){n()});let a=null;if("/"===location.pathname||location.pathname.startsWith("/page/"))a=t(".nav-home",e);else{let o=location.pathname.match(/\/(.*?)\//);o&&o.length>1&&(a=t(".nav-"+o[1],e))}n(a,!1)}(),function(){let e=t(".l_header .switcher .s-menu");e.click(function(o){o.stopPropagation(),t("body").toggleClass("z_menu-open"),e.toggleClass("active")}),t(document).click(function(o){t("body").removeClass("z_menu-open"),e.removeClass("active")})}(),function(){let e=t(".l_header .switcher .s-search"),o=t(".l_header"),n=t(".l_header .m_search");0!==e.length&&(e.click(function(t){t.stopPropagation(),o.toggleClass("z_search-open"),n.find("input").focus()}),t(document).click(function(t){o.removeClass("z_search-open")}),n.click(function(t){t.stopPropagation()}))}(),Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init(),0!==t(".reveal").length&&ScrollReveal({distance:0}).reveal(".reveal"),function(){const n=t(".toc-wrapper");if(0===n.length)return;n.click(function(t){t.stopPropagation(),n.addClass("active")}),t(document).click(function(){n.removeClass("active")}),n.on("click","a",function(t){t.preventDefault(),t.stopPropagation(),o("a"===t.target.tagName.toLowerCase()?t.target:t.target.parentElement)});const a=Array.from(n.find("li a")),i=function(){return a.map(function(o){return Math.floor(t(o.getAttribute("href")).offset().top-e)})};let s=i();const l=function(){let e=i();const o=t("html").scrollTop()||t("body").scrollTop();if(!e)return;let n,s=0,l=e.length-1;for(;s<l;)e[n=s+l+1>>1]===o?s=l=n:e[n]<o?s=n:l=n-1;t(a).removeClass("active").eq(s).addClass("active")};t(window).resize(function(){s=i(),l()}).scroll(function(){l()}),l()}(),function(){let e=[],o={};t(".pageviews").each(function(){let n=t(this).data("path");e.push(n),o[n]=t(this).find(".count")}).promise().done(function(){t.post(PAGEVIEWS_API,{host:window.location.host,urls:e}).done(function(e){for(var n in e.pageviews){let a=(e.pageviews[n]||"--").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");"/"===n?t("#totalPageviews .count").html(a):o[n].html(a)}})})}(),function(){let e="DoubleLine",o=function(){let o=t(".post-list");if("SingleLine"!==e&&o.width()<800){let n=o.find(".left-side"),a=o.find(".right-side").detach(),i=0;n.each(function(){t(a[i++]).insertAfter(t(this))}),e="SingleLine"}else"DoubleLine"!==e&&o.width()>=800&&(o.find(".right-side").detach().appendTo(".post-list"),e="DoubleLine")};o(),t(window).load(o),t(window).on("resize",o)}(),t(".toc-wrapper").followTo(520,"fixed"),t(".article .video-container").fitVids(),setTimeout(function(){t("#loading-bar-wrapper").fadeOut(500)},300),addLoadingBarProgress(100)})}(jQuery);